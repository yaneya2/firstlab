# Первая лабораторная работа по ПАТД

## Общее описание

Эта программа представляет собой реализацию универсального списка (List) на языке C, который может работать с разными типами данных, включая числа с плавающей запятой (double) и строки (string). Программа предоставляет интерфейс командной строки для управления списками и выполнения различных операций над ними.

## Архитектура проекта

Проект состоит из следующих основных компонентов:

### Заголовочные файлы (headers/)
- `List.h` - объявление структуры List и интерфейсов операций со списком
- `FieldInfo.h` - объявление структуры FieldInfo, которая описывает тип данных
- `Allocator.h` - объявление типов для аллокаторов памяти

### Исходные файлы (c/)
- `List.c` - реализация всех операций со списком
- `FieldInfo.c` - реализация функций для работы с различными типами данных
- `UI.c` - реализация пользовательского интерфейса

### Другие файлы
- `main.c` - точка входа в программу
- `tests.c` - модульные тесты для проверки корректности реализации
- `CMakeLists.txt` - файл сборки проекта с использованием CMake

## Функциональность

Программа поддерживает следующие операции со списками:

1. **Создание списка** - создание нового пустого списка для конкретного типа данных
2. **Добавление элементов** - добавление новых элементов в список
3. **Получение элементов** - получение элемента по индексу
4. **Установка элементов** - изменение значения элемента по индексу
5. **Сортировка** - сортировка элементов в списке
6. **Конкатенация** - объединение двух списков
7. **Фильтрация (where)** - фильтрация элементов по заданному условию
8. **Отображение (map)** - преобразование элементов по заданной функции
9. **Вывод всех элементов** - отображение содержимого списка
10. **Удаление списка** - освобождение всей памяти, связанной со списком

## Поддерживаемые типы данных

Программа поддерживает работу с двумя основными типами данных:

1. **double** - числа с плавающей запятой двойной точности
2. **string** - строки переменной длины

Каждый тип данных описывается структурой FieldInfo, которая содержит информацию о размере, методах сравнения, выделения и освобождения памяти, а также присваивания значений.

## Интерфейс пользователя

Программа предоставляет два режима интерфейса:
- **stringUI()** - основной интерфейс, работающий со строками
- **doubleUI()** - дополнительный интерфейс для работы с числами double

Каждый интерфейс предоставляет меню с возможностью выбора операций, таких как создание списка, добавление элементов, сортировка и т.д.

## Тестирование

В проекте реализованы модульные тесты (в файле tests.c), которые проверяют корректность работы всех основных функций:
- Создание списков
- Добавление и получение элементов
- Установка значений
- Операции map и where
- Конкатенация списков
- Сортировка
- Граничные условия и обработка ошибок

## Сборка и запуск

Для сборки проекта используется CMake. Проект может быть собран с помощью следующих команд:
```
mkdir build
cd build
cmake ..
make
```

Затем можно запустить исполняемый файл `firstlab` или выполнить тесты с помощью `tests`.

## Особенности реализации

- Использована система полиморфизма через структуру FieldInfo
- Реализована автоматическая перераспределение памяти при увеличении размера списка
- Все ресурсы корректно освобождаются для предотвращения утечек памяти
- Поддержка динамического расширения вместимости списка при необходимости
- Безопасная обработка граничных условий и ошибок